- defaults:
    link:
      relink: true
    brewfile:
      - stdout: true,
    brew:
      - stderr: False,
      - stdout: False,

- clean: ["~"]

- create:
    - ~/Workspace
    - ~/.config

- link:
    ~/.gitconfig: gitconfig
    ~/.config/nvim: nvim

- shell:
    - [git submodule update --init --recursive, Installing submodules]

- ifmacos:
    # Installs brew if missing
    - install-brew: true
    - brew:
        - black
        - coreutils
        - flake8
        - git-delta
        - git-flow
        - go
        - isort
        - lolcat
        - neovim
        - node
        - poetry
        - powerlevel10k
        - tree
        - virtualenv
        - zsh
        - zsh-autosuggestions
        - zsh-syntax-highlighting
    - shell:
        - command: "pip3 install pynvim"
          stdin: true
          stdout: true
          description: Reading and printing variable

- ifraspbian:
    - shell:
        - ["sudo apt update", "Update Package Manager"]
        - [
            "sudo apt install -y coreutils git git-flow lolcat neovim nodejs python3-pip tree virtualenv zsh zsh-autosuggestions zsh-syntax-highlighting",
            "Install packages",
          ]
        - [
            "pip3 install black flake8 isort pynvim",
            "Install Python dependencies",
          ]

- shell:
    - [
        sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)",
        "Install Oh My Zsh",
      ]
    - [
        "nvim +PlugUpdate +PlugClean! +UpdateRemotePlugins +qa",
        Installing and updating plugins,
      ]
