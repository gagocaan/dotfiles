- defaults:
    link:
      relink: true
    brewfile:
      - stdout: true,
    brew:
      - stderr: True,
      - stdout: False,

- clean: ["~"]

- create:
    - ~/Workspace
    - ~/.config

- link:
    ~/.gitconfig: gitconfig
    ~/.config/nvim: nvim
    ~/.zshrc: zshrc

- shell:
    - [git submodule update --init --recursive, Installing submodules]

- ifmacos:
    # Installs brew if missing
    - install-brew: true
    - brew:
        - coreutils
        - git-delta
        - git-flow
        - go
        - graphviz
        - htop
        - lolcat
        - neovim
        - node
        - powerlevel10k
        - pyenv
        - python
        - qlmarkdown
        - tree
        - virtualenv
        - zsh
        - zsh-autosuggestions
        - zsh-syntax-highlighting
    - shell:
        - command: "curl -sSL https://install.python-poetry.org | python3 -"
          stdin: true
          stdout: true
          description: Installing Poetry
    - shell:
        - command: "pip3 install pynvim black flake8 isort"
          stdin: true
          stdout: true
          description: Installing some essential Python libraries

- shell:
    - [
        "nvim +PlugUpdate +PlugClean! +UpdateRemotePlugins +qa",
        Installing and updating plugins,
      ]
